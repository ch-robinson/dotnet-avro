# Chr.Avro documentation site

This directory contains the source code for https://engineering.chrobinson.com/dotnet-avro.

## Building and running

The site is generated by [Gatsby](https://github.com/gatsbyjs/gatsby). To build or serve it locally, you’ll need [Node.js](https://nodejs.org) 11 or better installed. You’ll also need to run the [**Analyze** and **Benchmark** Cake tasks](../README.md#Contributing) beforehand so that the site has access to benchmark numbers and type information:

```shell
# in the Chr.Avro root directory:
$ dotnet cake build.cake --target=Analyze
...

$ dotnet cake build.cake --target=Benchmark
...

$ cd docs
$ npm install
...

# to run the site locally:
$ npm run start

# to build the site for publishing:
$ npm run build

# to publish the site to GitHub Pages (must have push access to the repo; make sure to run build first):
$ npm run publish
```

## Automated releases

The [Docs workflow](../.github/workflows/docs.yml) automatically builds and deploys the site whenever changes are pushed to this directory.
